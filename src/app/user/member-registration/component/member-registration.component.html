<form #formRegistration="ngForm" (ngSubmit)="register(formRegistration)">

  <div class="card col-12 p-0">
    <h5 class="card-header">Member Registration</h5>
    <div class="card-body">

      <div class="row">

        <div class="col-lg-12">
          <app-alert [alert]="formAlert"></app-alert>
        </div>

        <div class="col-sm-6 col-md-6">
          <div class="form-group text-left">
            <label for="societyId" class="col-form-label">Society</label>
            <select class="form-control" id="societyId" name="societyId" [(ngModel)]="memberRegistrationForm.societyId" #societyId="ngModel"
              required (change)="getRooms()">
              <option value="">-Select-</option>
              <option *ngFor="let soc of societies" [value]="soc.id"> {{ soc.name }} </option>
            </select>
            <app-validation-error [element]="memberRegistrationAlerts.societyId" [model]="societyId"></app-validation-error>
          </div>
        </div>

        <div class="col-sm-6 col-md-6">

          <div class="form-group text-left">
            <label for="roomId" class="col-form-label">Room</label>
            <select class="form-control" id="roomId" [(ngModel)]="memberRegistrationForm.roomId" #roomId="ngModel" name="roomId"
              required>
              <option value="">-Select-</option>
              <option *ngFor="let room of rooms" [value]="room.id"> {{ room.name }} </option>
            </select>
            <app-validation-error [element]="memberRegistrationAlerts.roomId" [model]="roomId"></app-validation-error>
          </div>

        </div>

        <div class="col-sm-6 col-md-6">

          <div class="form-group text-left">
            <label for="name" class="col-form-label">Name</label>
            <input type="text" id="name" [(ngModel)]="memberRegistrationForm.name" #name="ngModel" name="name" class="form-control"
              placeholder="Name" required pattern="[A-za-z ]+">
            <app-validation-error [element]="memberRegistrationAlerts.name" [model]="name"></app-validation-error>
          </div>

        </div>

        <div class="col-sm-6 col-md-6">

          <div class="form-group text-left">
            <label for="mobile" class="col-form-label">Mobile</label>
            <input type="text" id="mobile" [(ngModel)]="memberRegistrationForm.mobile" #mobile="ngModel" name="mobile" class="form-control"
              placeholder="Mobile" required pattern="[7-9]{1}[0-9]{9}">
            <app-validation-error [element]="memberRegistrationAlerts.mobile" [model]="mobile"></app-validation-error>
          </div>

        </div>

        <div class="col-sm-6 col-md-6">

          <div class="form-group text-left">
            <label for="password">Password</label>
            <input type="password" id="password" [(ngModel)]="memberRegistrationForm.password" #password="ngModel" name="password"
              class="form-control" placeholder="Password" required>
            <app-validation-error [element]="memberRegistrationAlerts.password" [model]="password"></app-validation-error>
          </div>

        </div>

        <div class="col-sm-6 col-md-6">

          <div class="form-group text-left">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" id="confirmPassword" [(ngModel)]="memberRegistrationForm.confirmPassword" #confirmPassword="ngModel"
              name="confirmPassword" class="form-control" placeholder="Confirm Password" required>
            <app-validation-error [element]="memberRegistrationAlerts.confirmPassword" [model]="confirmPassword" [matchField]="password"></app-validation-error>
          </div>

        </div>
      </div>

      <div class="form-group text-right">
          <button class="btn btn-outline-primary" type="submit" [disabled]="!formRegistration.valid || password.value != confirmPassword.value">
            Register
          </button>
          <button class="btn btn-outline-primary" type="button" routerLink="/login" routerLinkActive="active">Back</button>
      </div>

    </div>
  </div>

</form>
